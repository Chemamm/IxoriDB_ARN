{% extends "base.html" %}

{% block title %}
    <title>IxoriDB - Blast - Results</title>
{% endblock %}

{% block add_load %}
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css" crossorigin="anonymous">
{% endblock %}

{% block blast_class %}<li class="active">{% endblock %}

{% block core %}
<h2>Results</h2> <h5>Work ID: {{ work }}</h5>
<div class="line"></div>

<div class="row">
    <div class="col-lg-12">
        <table id="infotable" class="table table-striped">
            <thead>
              <tr>
                <th>Query ID</th>
                <th>Hit ID</th>
                <th>Identity</th>
                <th>Length</th>
                <th>Mismatch</th>
                <th>Gap Openings</th>
                <th>Query Start</th>
                <th>Query End</th>
                <th>Hit Start</th>
                <th>Hit End</th>
                <th>Expect Value</th>
                <th>Bit Score</th>
              </tr>
            </thead>
            <tbody>
            {% for hit in hits %}
                <tr>
                    <td>{{ hit.ID }}</td>
                    <td style="color: blue;">
                        <a href="/IxoriDB/browse_transcript/{{ hit.hitID }}">
                            <u>{{ hit.hitID }}</u>
                        </a>
                    </td>
                    <td>{{ hit.identity }}</td>
                    <td>{{ hit.length }}</td>
                    <td>{{ hit.mismatch }}</td>
                    <td>{{ hit.gapopen }}</td>
                    <td>{{ hit.qstart }}</td>
                    <td>{{ hit.qend }}</td>
                    <td>{{ hit.sstart }}</td>
                    <td>{{ hit.send }}</td>
                    <td>{{ hit.evalue }}</td>
                    <td>{{ hit.bitscore }}</td>
                </tr>
            {% endfor %}
            </tbody>
          </table>
    </div>
</div>

{% endblock %}

{% block add_scripts %}
    <script src="https://code.jquery.com/jquery-3.5.1.js" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/dataTables.bootstrap4.min.js" crossorigin="anonymous"></script>



<script type="text/javascript">
$(document).ready(function() {
    $('#infotable').DataTable( {
        dom: '<"top"B>Rt<"bottom"p><"clear">',
        scrollX: true,
        buttons: [
            'copyHtml5',
            'excelHtml5',
            'csvHtml5',
        ],
        "columnDefs": [
            { "width": "300px", "targets": 0},
            { "width": "300px", "targets": 1},

  ],
        responsive: true,
    } );
} );
</script>
{% endblock %}




